(this["webpackJsonpsynthetix.exchange"]=this["webpackJsonpsynthetix.exchange"]||[]).push([[12],{739:function(e,t,n){"use strict";var a=n(1),r=n(2),c=n(251);function l(){var e=Object(a.a)([""]);return l=function(){return e},e}var o=Object(r.e)(c.a).attrs({type:"number"})(l());t.a=o},742:function(e,t,n){"use strict";var a=n(1),r=n(0),c=n.n(r),l=n(2),o=n(24),i=n(19),u=n(13),s=n(55),f=n(119),m=n(739),d=n(743);function b(){var e=Object(a.a)(["\n\ttop: calc(100% + 10px);\n"]);return b=function(){return e},e}function p(){var e=Object(a.a)(["\n\tcolor: ",";\n"]);return p=function(){return e},e}function O(){var e=Object(a.a)(["\n\tborder: 1px solid ",";\n\tborder-right: none;\n\tpadding: 0 10px;\n"]);return O=function(){return e},e}function j(){var e=Object(a.a)(["\n\tdisplay: flex;\n\tbackground-color: ",";\n"]);return j=function(){return e},e}function g(){var e=Object(a.a)(["\n\t\t\tpadding-right: 72px;\n\t\t"]);return g=function(){return e},e}function E(){var e=Object(a.a)(["\n\t",";\n\tcolor: ",";\n"]);return E=function(){return e},e}function h(){var e=Object(a.a)(["\n\tposition: absolute;\n\tright: 10px;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\theight: 25px;\n\tline-height: unset;\n"]);return h=function(){return e},e}var v=Object(l.e)(s.d).attrs({size:"sm"})(h()),y=Object(l.e)(m.a)(E(),(function(e){return e.hasMaxButton&&Object(l.d)(g())}),(function(e){return e.theme.colors.fontPrimary})),w=Object(l.e)(d.a)(j(),(function(e){return e.theme.colors.surfaceL3})),x=Object(l.e)(u.h)(O(),(function(e){return e.theme.colors.accentL2})),L=Object(l.e)(f.a.Name)(p(),(function(e){return e.theme.colors.fontSecondary})),C=Object(l.e)(u.D)(b());t.a=function(e){var t=e.className,n=e.label,a=e.currencyKey,r=void 0===a?i.f.sUSD:a,l=e.onChange,u=e.value,s=e.inputProps,f=e.errorMessage,m=e.onMaxButtonClick,b=e.showIcon,p=void 0===b||b,O=e.disabled,j=void 0!==O&&O,g=Object(o.c)().t,E=null!=m;return c.a.createElement(c.a.Fragment,null,null!=n&&c.a.createElement(d.b,null,n),c.a.createElement(w,{className:t},c.a.createElement(x,{className:"currency-container"},c.a.createElement(L,{currencyKey:r,showIcon:p})),c.a.createElement(y,Object.assign({className:"input",disabled:j,value:u,placeholder:"0",onChange:function(e){return l(e,e.target.value)},hasMaxButton:E},s)),f&&c.a.createElement(C,{type:"error",floating:!0,size:"sm"},f),E&&c.a.createElement(v,{onClick:m},g("common.max"))))}},743:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var a=n(1),r=n(2),c=n(13);function l(){var e=Object(a.a)(["\n\twidth: 100%;\n\tposition: relative;\n"]);return l=function(){return e},e}function o(){var e=Object(a.a)(["\n\tjustify-content: space-between;\n\tmargin-bottom: 6px;\n"]);return o=function(){return e},e}var i=Object(r.e)(c.h)(o()),u=r.e.div(l())},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var a=n(29),r=n.n(a),c=n(19),l=function(e,t){return["synths","balances",e,t]},o=function(e,t){return[e.toLowerCase(),t]},i=function(e,t){return Object(c.l)(t)?r()(e,l(t,"balance")):r()(e,o(t,"balance"))},u=function(e,t){return Object(c.l)(t)?r()(e,l(t,"balanceBN")):r()(e,o(t,"balanceBN"))}},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n(1),r=n(16),c=n(0),l=n.n(c),o=n(24),i=n(2),u=n(11),s=n(23),f=n(245),m=n(13),d=n(10),b=n(26),p=n(155),O=n(739);function j(){var e=Object(a.a)(["\n\twidth: calc(100% - 20px);\n\tborder-radius: 4px;\n\tmargin-top: 6px;\n\tmargin-left: 10px;\n"]);return j=function(){return e},e}function g(){var e=Object(a.a)(["\n\tpadding: 10px;\n\tmargin: 10px;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tcolor: ",";\n\t",";\n\theight: 32px;\n\t&:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tspan {\n\t\t\tbackground-color: ",";\n\t\t}\n\t}\n"]);return g=function(){return e},e}function E(){var e=Object(a.a)(["\n\twidth: calc(100% - 20px);\n\tmargin: 10px 10px 0 10px;\n\tfont-size: 12px;\n\theight: 36px;\n\tcolor: ",";\n\tbackground-color: ",";\n"]);return E=function(){return e},e}function h(){var e=Object(a.a)(["\n\twidth: 100%;\n\theight: 100%;\n"]);return h=function(){return e},e}var v={setGasPrice:p.g},y=Object(b.b)((function(e){return{gasInfo:Object(p.c)(e)}}),v),w=i.e.div(h()),x=Object(i.e)(O.a)(E(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.accentL1})),L=i.e.div(g(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.needsPadding&&"margin-top: 37px"}),(function(e){return e.theme.colors.fontPrimary}),(function(e){return e.theme.colors.accentL1}),(function(e){return e.theme.colors.accentL2})),C=Object(i.e)(m.D)(j()),k=y((function(e){var t=e.setGasPrice,n=e.gasInfo,a=n.gasSpeed,i=(n.gasPrice,e.setDropdownIsOpen),u=Object(o.c)().t,s=Object(c.useState)(""),f=Object(r.a)(s,2),m=f[0],d=f[1],b=Object(c.useState)(void 0),p=Object(r.a)(b,2),O=p[0],j=p[1],g=function(e){t(e),i(!1)},E=Object(c.useMemo)((function(){return Math.floor(1.5*a.fastestAllowed)}),[a.fastestAllowed]);return Object(c.useEffect)((function(){if(m){var e=Number(m),n=e>E;t(n?E:Math.max(0,e)),j(n?u("common.errors.gas-exceeds-limit",{gasPrice:E}):void 0)}}),[t,m,E,u]),l.a.createElement(w,null,l.a.createElement(x,{value:m,onChange:function(e){d(e.target.value)},placeholder:u("modals.gwei.placeholder"),step:"0.1",min:"0"}),O&&l.a.createElement(C,{type:"error",floating:!0,size:"sm"},O),l.a.createElement(L,{needsPadding:void 0!==O,onClick:function(){return g(a.slowAllowed)}},l.a.createElement("div",null,u("modals.gwei.table.safe")),l.a.createElement("div",null,a.slowAllowed)),l.a.createElement(L,{onClick:function(){return g(a.averageAllowed)}},l.a.createElement("div",null,u("modals.gwei.table.standard")),l.a.createElement("div",null,a.averageAllowed)),l.a.createElement(L,{onClick:function(){return g(a.fastestAllowed)}},l.a.createElement("div",null,u("modals.gwei.table.fast")),l.a.createElement("div",null,a.fastestAllowed)))}));function P(){var e=Object(a.a)(["\n\tpadding-top: ",";\n"]);return P=function(){return e},e}function S(){var e=Object(a.a)(["\n\tdisplay: flex;\n\twidth: 75px;\n\tjustify-content: space-between;\n\tfloat: right;\n\tcursor: pointer;\n"]);return S=function(){return e},e}function I(){var e=Object(a.a)(["\n\t\twidth: auto;\n\t"]);return I=function(){return e},e}function R(){var e=Object(a.a)(["\n\t","\n\t.body {\n\t\tborder-width: 1px 1px 1px 1px;\n\t\tmargin-top: 20px;\n\t}\n\tz-index: ",";\n"]);return R=function(){return e},e}var T=Object(i.e)(f.a)(R(),d.b.medium(I()),s.j.DROPDOWN),H=i.e.div(S()),z=Object(i.e)(m.B)(P(),(function(e){return e.addPadding?"2px":"0"})),q=function(e){var t=e.gasPrice,n=e.addPadding,a=void 0!==n&&n,i=Object(o.c)().t,s=Object(c.useState)(!1),f=Object(r.a)(s,2),m=f[0],d=f[1],b=function(e){(e||m)&&d(e)};return l.a.createElement(T,{height:"auto",isOpen:m,handleClose:function(){return b(!1)},width:"170px",onHeaderClick:function(){return b(!m)},header:l.a.createElement(H,null,l.a.createElement("div",null,Object(u.e)(t)||0),l.a.createElement(z,{addPadding:a},i("common.actions.edit"))),body:l.a.createElement(k,{setDropdownIsOpen:b})})}},747:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=r.a.createElement("path",{d:"M6 0L5.906 2.56919L5.40471 2.54569L5.32638 1.12794L0.462147 6L0 5.53786L4.87207 0.673631L3.45431 0.595302L3.43081 0.0939962L6 0Z",fill:"#A08AFF"}),i=function(e){var t=e.svgRef,n=e.title,a=l(e,["svgRef","title"]);return r.a.createElement("svg",c({width:6,height:6,viewBox:"0 0 6 6",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,o)},u=r.a.forwardRef((function(e,t){return r.a.createElement(i,c({svgRef:t},e))}));n.p},749:function(e,t,n){"use strict";var a=n(1),r=n(0),c=n.n(r),l=n(24),o=n(2),i=n(732),u=n(11),s=n(25),f=n(13),m=n(746),d=n(42),b=n(247);function p(){var e=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 8px;\n"]);return p=function(){return e},e}function O(){var e=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: baseline;\n"]);return O=function(){return e},e}function j(){var e=Object(a.a)(["\n\tcolor: ",";\n"]);return j=function(){return e},e}function g(){var e=Object(a.a)(["\n\tmargin: 18px 0;\n"]);return g=function(){return e},e}function E(){var e=Object(a.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n"]);return E=function(){return e},e}function h(){var e=Object(a.a)(["\n\ttext-transform: none;\n"]);return h=function(){return e},e}function v(){var e=Object(a.a)(["\n\twidth: 200px;\n\tpadding: 2px;\n\t& > * + * {\n\t\tmargin-top: 8px;\n\t}\n"]);return v=function(){return e},e}var y=o.e.div(v()),w=Object(o.e)(d.c)(h()),x=o.e.div(E()),L=o.e.div(g()),C=Object(o.e)(d.c)(j(),(function(e){return e.theme.colors.fontTertiary})),k=Object(o.e)(C)(O()),P=Object(o.e)(f.j)(p());t.a=function(e){var t=e.gasPrice,n=e.gasLimit,a=e.ethRate,r=void 0===a?0:a,o=e.usdRate,d=void 0===o?0:o,p=e.amount,O=void 0===p?0:p,j=e.exchangeFeeRate,g=void 0===j?0:j,E=Object(l.c)().t,h=O*d,v=O*g/100*d,S=Object(s.k)(t,n,r);return c.a.createElement(L,null,c.a.createElement(P,null,c.a.createElement(C,null,E("trade.trade-card.network-info.usd-value")),c.a.createElement(C,null,"$",Object(u.e)(h)||0)),c.a.createElement(P,null,c.a.createElement(k,null,E("trade.trade-card.network-info.fee"),c.a.createElement(i.a,{title:c.a.createElement(y,null,c.a.createElement(x,null,c.a.createElement(w,null,"".concat(E("trade.trade-card.network-info-tooltip.exchange-fee")," (").concat(Object(u.j)(g/100),")")),c.a.createElement(w,null,"$",Object(u.e)(v))),c.a.createElement(x,null,c.a.createElement(w,null,E("trade.trade-card.network-info-tooltip.network-fee")),c.a.createElement(w,null,"$",Object(u.e)(S)))),placement:"bottom",arrow:!0},c.a.createElement(f.G,null,c.a.createElement(b.a,null)))),c.a.createElement(C,null,"$",Object(u.e)(v+S))),c.a.createElement(P,null,c.a.createElement(C,null,E("common.gas-price-gwei")),c.a.createElement(C,null,c.a.createElement(m.a,{gasPrice:t}))))}},751:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(1),r=n(30),c=n(0),l=n.n(c),o=n(2);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=l.a.createElement("path",{d:"M0.0984557 0.573842C-0.0328186 0.442567 -0.0328186 0.22973 0.0984557 0.0984557C0.22973 -0.0328186 0.442567 -0.0328186 0.573842 0.0984557L3.90154 3.42616C4.03282 3.55743 4.03282 3.77027 3.90154 3.90154C3.77027 4.03282 3.55743 4.03282 3.42616 3.90154L0.0984557 0.573842Z",fill:"white"}),f=l.a.createElement("path",{d:"M0.573842 3.90154C0.442568 4.03282 0.22973 4.03282 0.0984562 3.90154C-0.032818 3.77027 -0.032818 3.55743 0.0984562 3.42616L3.42616 0.098456C3.55743 -0.0328182 3.77027 -0.0328182 3.90154 0.098456C4.03282 0.22973 4.03282 0.442568 3.90154 0.573842L0.573842 3.90154Z",fill:"white"}),m=function(e){var t=e.svgRef,n=e.title,a=u(e,["svgRef","title"]);return l.a.createElement("svg",i({width:8,height:8,viewBox:"0 0 4 4",fill:"none",ref:t},a),n?l.a.createElement("title",null,n):null,s,f)},d=l.a.forwardRef((function(e,t){return l.a.createElement(m,i({svgRef:t},e))})),b=(n.p,n(13));function p(){var e=Object(a.a)(["\n\tcursor: pointer;\n\tflex-shrink: 0;\n"]);return p=function(){return e},e}function O(){var e=Object(a.a)(["\n\tjustify-content: space-between;\n"]);return O=function(){return e},e}function j(){var e=Object(a.a)(["\n\tposition: relative;\n"]);return j=function(){return e},e}var g=o.e.div(j()),E=Object(o.e)(b.D)(O()),h=Object(o.e)(d)(p()),v=function(e){var t=e.children,n=e.onDismiss,a=Object(r.a)(e,["children","onDismiss"]);return l.a.createElement(g,null,l.a.createElement(E,a,t,l.a.createElement(h,{onClick:n})))}},894:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),o=n(27),i=n(16),u=n(22),s=Object(a.createContext)(null),f=function(e){var t=e.children,n=Object(a.useState)("sETH"),c=Object(i.a)(n,2),f=c[0],m=c[1],d=Object(a.useState)(null),b=Object(i.a)(d,2),p=b[0],O=b[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.b.snxJS,n=t.EtherCollateral,a=t.EtherCollateralsUSD,O("sETH"===f?n.contract:a.contract);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),r.a.createElement(s.Provider,{value:{contract:p,setContract:O,contractType:f,setContractType:m}},t)},m=n(1),d=n(26),b=n(2),p=n(13),O=n(6),j=n(24),g=n(25),E=n(244),h=n(744),v=n(84),y=n(55),w=n(94),x=n(742),L=n(42),C=n(155),k=n(20),P=n(62),S=n(246),I=n(53),R=n(706),T=n(47),H=n(60),z=n(259),q=n(243);function K(){var e=Object(m.a)(["\n\ttext-decoration: underline;\n\tmargin-left: 2px;\n\tcolor: ",";\n"]);return K=function(){return e},e}function D(){var e=Object(m.a)(["\n\t",";\n\ttext-align: center;\n\tmargin: 16px 0 32px 0;\n\tcolor: ",";\n"]);return D=function(){return e},e}function A(){var e=Object(m.a)(["\n\toutline: none;\n\twidth: 478px;\n\tpadding: 42px;\n\talign-items: center;\n\tbackground-color: ",";\n"]);return A=function(){return e},e}function B(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return B=function(){return e},e}function F(){var e=Object(m.a)(["\n\t",";\n\tmargin: 0;\n"]);return F=function(){return e},e}function M(){var e=Object(m.a)(["\n\twidth: 10px;\n\tcursor: pointer;\n\tflex-shrink: 0;\n"]);return M=function(){return e},e}function N(){var e=Object(m.a)(["\n\twidth: 100%;\n\tjustify-content: flex-end;\n"]);return N=function(){return e},e}var W=Object(a.memo)((function(e){var t=e.isOpen,n=e.onClose,a=e.onConfirm,c=e.contractType,l=Object(j.c)().t,o="sETH"===c?"https://blog.synthetix.io/ether-collateral-second-trial/":"https://blog.synthetix.io/ether-collateral-trial-susd/";return r.a.createElement(_,{open:t},r.a.createElement(Z,null,r.a.createElement(U,null,r.a.createElement(V,{onClick:n})),r.a.createElement(G,null,l("".concat("loans.modal.loan-trial",".title"))),r.a.createElement(J,null,r.a.createElement(j.a,{i18nKey:"".concat("loans.modal.loan-trial",".content"),values:{blogLink:"this blog post"},components:[r.a.createElement($,{href:o})]})),r.a.createElement(y.d,{onClick:a},l("".concat("loans.modal.loan-trial",".button-label")))))})),U=Object(b.e)(p.g)(N()),V=Object(b.e)(z.a)(M()),G=b.e.h5(F(),T.e),_=Object(b.e)(R.a)(B()),Z=Object(b.e)(p.i)(A(),(function(e){return e.theme.colors.surfaceL3})),J=b.e.p(D(),H.a,(function(e){return e.theme.colors.fontSecondary})),$=Object(b.e)(p.f)(K(),(function(e){return e.theme.colors.hyperlink})),Q=Object(d.b)((function(e){return{contractType:Object(q.d)(e)}}),null)(W),Y=n(749),X=n(751);function ee(){var e=Object(m.a)(["\n\tmargin-top: 8px;\n"]);return ee=function(){return e},e}var te=Object(b.e)(X.a)(ee()),ne=n(242);function ae(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return ae=function(){return e},e}var re=Object(b.e)(L.c)(ae(),(function(e){return e.theme.colors.fontPrimary})),ce={fetchLoans:S.c},le=Object(d.b)((function(e){return{gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),walletInfo:Object(k.e)(e),walletBalance:Object(P.j)(e),networkId:Object(k.d)(e)}}),ce)((function(e){var t=e.gasInfo,n=e.networkId,c=e.fetchLoans,s=e.ethRate,f=e.walletInfo.currentWallet,m=e.walletBalance,d=e.collateralPair,b=e.notify,C=Object(j.c)().t,k=Object(a.useState)(""),P=Object(i.a)(k,2),S=P[0],I=P[1],R=Object(a.useState)(""),T=Object(i.a)(R,2),H=T[0],z=T[1],q=Object(a.useState)(t.gasLimit),K=Object(i.a)(q,2),D=K[0],A=K[1],B=Object(a.useState)(null),F=Object(i.a)(B,2),M=F[0],N=F[1],W=Object(a.useState)(null),U=Object(i.a)(W,2),V=U[0],G=U[1],_=Object(a.useState)(!1),Z=Object(i.a)(_,2),J=Z[0],$=Z[1],X=Object(a.useState)(null),ee=Object(i.a)(X,2),ae=ee[0],ce=ee[1],le=d.collateralCurrencyKey,oe=d.loanCurrencyKey,ie=d.issuanceRatio,ue=d.minLoanSize,se=function(){var e=Object(o.a)(l.a.mark((function e(){var a,r,o,i,s,f,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.b.snxJS.EtherCollateral,r=u.b.utils,G(null),e.prev=2,o={value:r.parseEther(S),gasPrice:t.gasPrice*g.a,gasLimit:D},e.next=6,a.contract.estimate.openLoan(o);case 6:return i=e.sent,s=Object(E.a)(Number(i)),A(s),e.next=11,a.openLoan(Object(O.a)(Object(O.a)({},o),{},{gasLimit:s}));case 11:f=e.sent,b&&(m=b.hash(f.hash),m.emitter.on("txConfirmed",(function(){return ce(f.hash),I(""),z(""),c(),{onclick:function(){return window.open(Object(ne.c)(n,f.hash),"_blank")}}}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),G(C("common.errors.unknown-error-try-again"));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),fe=Object(h.a)(m,le),me=Object(h.a)(m,oe);Object(a.useEffect)((function(){N(null),""!==S&&(f&&S>fe?N(C("common.errors.amount-exceeds-balance")):S<ue&&N(C("loans.loan-card.errors.min-loan-size",{currencyKey:le,minLoanSize:ue})))}),[S,fe,C,f,le,oe,ue]);var de=!!M;return r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,C("loans.loan-card.create-loan.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:le,value:"".concat(S),label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.create-loan.currency-locked",values:{currencyKey:le},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.m,null,C("common.wallet.balance-currency",{balance:f?fe:v.a}))),onChange:function(e,t){I(t),z(t*ie)},errorMessage:M})),r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:oe,value:H,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.create-loan.currency-borrowed",values:{currencyKey:oe},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.m,null,C("common.wallet.balance-currency",{balance:f?me:v.a}))),onChange:function(e,t){z(t),I(t/ie)}})),r.a.createElement(Y.a,{gasPrice:t.gasPrice,gasLimit:D,ethRate:s}),r.a.createElement(y.d,{disabled:!S||!H||!f||de,onClick:function(){return $(!0)}},C("common.actions.submit")),ae&&r.a.createElement(te,{onDismiss:function(){return ce(null)},size:"sm",type:"success",floating:!0},r.a.createElement(re,{as:"a",target:"_blank",href:Object(ne.c)(n,ae)},"VIEW TRANSACTION RECEIPT")),V&&r.a.createElement(te,{onDismiss:function(){return G(null)},type:"error",size:"sm",floating:!0},V)),r.a.createElement(Q,{isOpen:J,onClose:function(){return $(!1)},onConfirm:function(){return $(!1),void se()}}))})),oe=n(245),ie=n(10),ue=n(739);function se(){var e=Object(m.a)(["\n\twidth: calc(100% - 20px);\n\tborder-radius: 4px;\n\tmargin-top: 6px;\n\tmargin-left: 10px;\n\tmargin-bottom: 6px;\n"]);return se=function(){return e},e}function fe(){var e=Object(m.a)(["\n\tpadding: 10px;\n\tmargin: 10px;\n\tcursor: pointer;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tcolor: ",";\n\t",";\n\theight: 32px;\n\t&:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tspan {\n\t\t\tbackground-color: ",";\n\t\t}\n\t}\n"]);return fe=function(){return e},e}function me(){var e=Object(m.a)(["\n\twidth: calc(100% - 20px);\n\tmargin: 10px 10px 0 10px;\n\tfont-size: 12px;\n\theight: 36px;\n\tcolor: ",";\n\tbackground-color: ",";\n"]);return me=function(){return e},e}function de(){var e=Object(m.a)(["\n\twidth: 100%;\n\theight: 100%;\n"]);return de=function(){return e},e}var be=b.e.div(de()),pe=Object(b.e)(ue.a)(me(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.accentL1})),Oe=b.e.div(fe(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.needsPadding&&"margin-top: 37px"}),(function(e){return e.theme.colors.fontPrimary}),(function(e){return e.theme.colors.accentL1}),(function(e){return e.theme.colors.accentL2})),je=Object(b.e)(p.D)(se()),ge=function(e){var t=e.setCRatio,n=e.setDropdownIsOpen,c=Object(j.c)().t,l=Object(a.useState)(""),o=Object(i.a)(l,2),u=o[0],s=o[1],f=Object(a.useState)(void 0),m=Object(i.a)(f,2),d=m[0],b=m[1],p=function(e){s(""),t(e),n(!1,e)};return Object(a.useEffect)((function(){if(u){var e=Number(u),n=e<150;t(n?150:Math.max(0,e).toString()),b(n?c("common.errors.c-ratio-exceeded"):void 0)}}),[t,u,c]),r.a.createElement(be,null,r.a.createElement(pe,{value:u,onChange:function(e){s(e.target.value)},placeholder:c("modals.gwei.placeholder"),step:"0.1",min:"0"}),d&&r.a.createElement(je,{type:"error",floating:!0,size:"sm"},d),r.a.createElement(Oe,{needsPadding:void 0!==d,onClick:function(){return p(Re.SAFE)}},r.a.createElement("div",null,c("modals.c-ratio.safe")),r.a.createElement("div",null,Re.SAFE,"%")),r.a.createElement(Oe,{onClick:function(){return p(Re.MEDIUM)}},r.a.createElement("div",null,c("modals.c-ratio.safe-max")),r.a.createElement("div",null,Re.MEDIUM,"%")),r.a.createElement(Oe,{onClick:function(){return p(Re.HIGH)}},r.a.createElement("div",null,c("modals.c-ratio.high-risk")),r.a.createElement("div",null,Re.HIGH,"%")))};function Ee(){var e=Object(m.a)(["\n\tpadding-top: ",";\n"]);return Ee=function(){return e},e}function he(){var e=Object(m.a)(["\n\tdisplay: flex;\n\twidth: 75px;\n\tjustify-content: space-between;\n\tfloat: right;\n\tcursor: pointer;\n"]);return he=function(){return e},e}function ve(){var e=Object(m.a)(["\n\t\twidth: auto;\n\t"]);return ve=function(){return e},e}function ye(){var e=Object(m.a)(["\n\t","\n\t.body {\n\t\tborder-width: 1px 1px 1px 1px;\n\t\tmargin-top: 20px;\n\t}\n\tz-index: 100;\n"]);return ye=function(){return e},e}var we=Object(b.e)(oe.a)(ye(),ie.b.medium(ve())),xe=b.e.div(he()),Le=Object(b.e)(p.B)(Ee(),(function(e){return e.addPadding?"2px":"0"})),Ce=function(e){var t=e.cRatio,n=e.setCRatio,c=e.addPadding,l=void 0!==c&&c,o=Object(j.c)().t,u=Object(a.useState)(!1),s=Object(i.a)(u,2),f=s[0],m=s[1],d=function(e,t){n(t),m(e)};return r.a.createElement(we,{height:"auto",isOpen:f,handleClose:function(){return d(!1,t)},width:"170px",onHeaderClick:function(){return d(!f,t)},header:r.a.createElement(xe,null,r.a.createElement("div",null,parseFloat(t),"%"),r.a.createElement(Le,{addPadding:l},o("common.actions.edit"))),body:r.a.createElement(ge,{setCRatio:n,cRatio:t,setDropdownIsOpen:d})})};function ke(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return ke=function(){return e},e}function Pe(){var e=Object(m.a)(["\n\tborder-color: ",";\n"]);return Pe=function(){return e},e}function Se(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(m.a)(["\n\tcolor: ",";\n"]);return Ie=function(){return e},e}var Re={SAFE:"200",MEDIUM:"165",HIGH:"155"},Te=Object(b.e)(L.c)(Ie(),(function(e){return e.theme.colors.fontTertiary})),He=Object(b.e)(p.j)(Se()),ze=b.e.hr(Pe(),(function(e){return e.theme.colors.accentL1})),qe=Object(b.e)(L.c)(ke(),(function(e){return e.theme.colors.fontPrimary})),Ke={fetchLoans:S.c},De=Object(d.b)((function(e){return{gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),walletInfo:Object(k.e)(e),walletBalance:Object(P.j)(e),contract:Object(q.c)(e),networkId:Object(k.d)(e)}}),Ke)((function(e){var t=e.gasInfo,n=e.networkId,c=e.ethRate,s=e.walletInfo.currentWallet,f=e.walletBalance,m=e.fetchLoans,d=e.collateralPair,b=e.contract,O=e.notify,C=Object(j.c)().t,k=Object(a.useState)(""),P=Object(i.a)(k,2),S=P[0],I=P[1],R=Object(a.useState)(""),T=Object(i.a)(R,2),H=T[0],z=T[1],q=Object(a.useState)(t.gasLimit),K=Object(i.a)(q,2),D=K[0],A=K[1],B=Object(a.useState)(null),F=Object(i.a)(B,2),M=F[0],N=F[1],W=Object(a.useState)(null),U=Object(i.a)(W,2),V=U[0],G=U[1],_=Object(a.useState)(!1),Z=Object(i.a)(_,2),J=Z[0],$=Z[1],X=Object(a.useState)(Re.SAFE),ee=Object(i.a)(X,2),ae=ee[0],re=ee[1],ce=Object(a.useState)(null),le=Object(i.a)(ce,2),oe=le[0],ie=le[1],ue=d.collateralCurrencyKey,se=d.loanCurrencyKey,fe=d.minLoanSize,me=function(){var e=Object(o.a)(l.a.mark((function e(){var a,r,c,o,i,s,f,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.b.utils,r=u.b.signer,G(null),e.prev=2,c=a.parseEther(H.toString()),o=a.parseEther(S.toString()),i=b.connect(r),e.next=8,i.estimate.openLoan(c,{value:o});case 8:return s=e.sent,f=Object(E.a)(Number(s)),A(f),e.next=13,i.openLoan(c,{value:o,gasLimit:f,gasPrice:t.gasPrice*g.a});case 13:d=e.sent,O&&(p=O.hash(d.hash),p.emitter.on("txConfirmed",(function(){return ie(d.hash),I(""),z(""),m(),{onclick:function(){return window.open(Object(ne.c)(n,d.hash),"_blank")}}}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),G(C("common.errors.unknown-error-try-again"));case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),de=Object(h.a)(f,ue),be=Object(h.a)(f,se);Object(a.useEffect)((function(){z(""),I("")}),[ae]),Object(a.useEffect)((function(){N(null),""!==S&&(s&&S>de?N(C("common.errors.amount-exceeds-balance")):S<fe&&N(C("loans.loan-card.errors.min-loan-size",{currencyKey:ue,minLoanSize:fe})))}),[S,de,C,s,ue,se,fe]);var pe=!!M;return r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,C("loans.loan-card.create-loan.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:ue,value:"".concat(S),label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.create-loan.currency-locked",values:{currencyKey:ue},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.m,null,C("common.wallet.balance-currency",{balance:s?de:v.a}))),onChange:function(e,t){I(t),z(t*(100/parseFloat(ae))*c)},errorMessage:M})),r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:se,value:H,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.create-loan.currency-borrowed",values:{currencyKey:se},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.m,null,C("common.wallet.balance-currency",{balance:s?be:v.a}))),onChange:function(e,t){z(t),I(t/(100/parseFloat(ae))/c)}})),r.a.createElement(He,null,r.a.createElement(Te,null,C("trade.trade-card.network-info.c-ratio")),r.a.createElement(Te,null,r.a.createElement(Ce,{setCRatio:re,cRatio:ae}))),r.a.createElement(ze,null),r.a.createElement(Y.a,{gasPrice:t.gasPrice,gasLimit:D,ethRate:c}),r.a.createElement(y.d,{disabled:!S||!H||!s||pe,onClick:function(){return $(!0)}},C("common.actions.submit")),oe&&r.a.createElement(te,{onDismiss:function(){return ie(null)},size:"sm",type:"success",floating:!0},r.a.createElement(qe,{as:"a",target:"_blank",href:Object(ne.c)(n,oe)},"VIEW TRANSACTION RECEIPT")),V&&r.a.createElement(te,{onDismiss:function(){return G(null)},type:"error",size:"sm",floating:!0},V)),r.a.createElement(Q,{isOpen:J,onClose:function(){return $(!1)},onConfirm:function(){return $(!1),void me()}}))}));function Ae(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return Ae=function(){return e},e}function Be(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-row-gap: 15px;\n"]);return Be=function(){return e},e}function Fe(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return Fe=function(){return e},e}function Me(){var e=Object(m.a)(["\n\t","\n"]);return Me=function(){return e},e}var Ne=Object(b.e)(w.a)(Me(),(function(e){return!e.isInteractive&&Object(b.d)(Fe())})),We=b.e.div(Be()),Ue=Object(b.e)(L.c)(Ae(),(function(e){return e.theme.colors.fontPrimary})),Ve={fetchLoans:S.c},Ge=Object(d.b)((function(e){return{gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),walletInfo:Object(k.e)(e),contract:Object(q.c)(e),contractType:Object(q.d)(e),walletBalance:Object(P.j)(e),networkId:Object(k.d)(e)}}),Ve)((function(e){var t,n=e.gasInfo,c=e.networkId,u=e.ethRate,s=e.fetchLoans,f=e.isInteractive,m=void 0===f||f,d=e.selectedLoan,b=e.walletInfo.currentWallet,O=e.walletBalance,E=e.collateralPair,h=e.contract,v=e.contractType,x=e.notify,C=Object(j.c)().t,k=Object(a.useState)(n.gasLimit),P=Object(i.a)(k,1)[0],S=Object(a.useState)(null),I=Object(i.a)(S,2),R=I[0],T=I[1],H=Object(a.useState)(null),z=Object(i.a)(H,2),q=z[0],K=z[1],D=null,A=null,B=null,F=null,M=v,N=null;null!=d&&(D=d.collateralAmount,A=d.loanAmount,B=d.currentInterest,F=d.loanID,M=d.loanType,N=A+B),Object(a.useEffect)((function(){if(O){var e=O.synths;T(null),e.balances[v].balance<N&&T(C("loans.loan-card.errors.insufficient-balance",{currencyKey:v}))}}),[O,N,v,C]);var W=E.collateralCurrencyKey,U=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(null),e.prev=1,t=F.toString(),e.next=5,h.closeLoan(t,{gasPrice:n.gasPrice*g.a,gasLimit:6e5});case 5:a=e.sent,x&&(r=x.hash(a.hash),r.emitter.on("txConfirmed",(function(){return K(a.hash),s(),{onclick:function(){return window.open(Object(ne.c)(c,a.hash),"_blank")}}}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),T(C("common.errors.unknown-error-try-again"));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ne,{isInteractive:m},r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,C("loans.loan-card.close-loan.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(We,null,r.a.createElement(p.x,null,r.a.createElement(p.y,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.close-loan.currency-unlocked",values:{currencyKey:W},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.z,null,C("common.wallet.balance-currency",{balance:D}))),r.a.createElement(p.x,null,r.a.createElement(p.y,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.close-loan.currency-burned",values:{currencyKey:d?"sETH"===M?"sETH":"sUSD":v},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.z,null,C("common.wallet.balance-currency",{balance:A}))),"sUSD"===M&&r.a.createElement(p.x,null,r.a.createElement(p.y,null,r.a.createElement(j.a,{i18nKey:"loans.loan-card.close-loan.min-susd",components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.z,null,C("common.wallet.balance-currency",{balance:null!==(t=N)&&void 0!==t?t:0})))),r.a.createElement(Y.a,{gasPrice:n.gasPrice,gasLimit:P,ethRate:u}),r.a.createElement(y.d,{onClick:U,disabled:!d||!b},C("common.actions.confirm")),q&&r.a.createElement(te,{onDismiss:function(){return K(null)},size:"sm",type:"success",floating:!0},r.a.createElement(Ue,{as:"a",target:"_blank",href:Object(ne.c)(c,q)},"VIEW TRANSACTION RECEIPT")),R&&r.a.createElement(te,{onDismiss:function(){return T(null)},type:"error",size:"sm",floating:!0},R)))})),_e=n(747),Ze=n(11),Je=n(23),$e=n(61);function Qe(){var e=Object(m.a)(["\n\tmargin-right: 8px;\n\ttext-transform: none;\n"]);return Qe=function(){return e},e}function Ye(){var e=Object(m.a)(["\n\tbackground-color: ",";\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tfont-size: 12px;\n\ttr {\n\t\ttext-align: left;\n\t\t> * {\n\t\t\tcolor: ",";\n\t\t\theight: ",";\n\t\t\ttext-align: left;\n\t\t\t&:first-child {\n\t\t\t\tpadding-left: 18px;\n\t\t\t}\n\t\t\t&:last-child {\n\t\t\t\ttext-align: right;\n\t\t\t\tpadding-right: 18px;\n\t\t\t}\n\t\t}\n\t\t> th {\n\t\t\t&:not(:first-child) {\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t}\n\t}\n"]);return Xe=function(){return e},e}function et(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-column-gap: 12px;\n\tgrid-auto-flow: column;\n\t@media (max-width: 1480px) {\n\t\tgrid-template-rows: auto auto;\n\t\tgrid-row-gap: 10px;\n\t}\n"]);return et=function(){return e},e}function tt(){var e=Object(m.a)(["\n\twidth: 60%;\n\tdisplay: flex;\n\talign-items: center;\n\n\t> * + * {\n\t\tmargin-left: 10px;\n\t}\n"]);return tt=function(){return e},e}function nt(){var e=Object(m.a)(["\n\tmargin-left: 5px;\n"]);return nt=function(){return e},e}function at(){var e=Object(m.a)(["\n\tcolor: ",";\n\ttext-transform: none;\n\tmargin-left: auto;\n\tfont-size: 13px;\n"]);return at=function(){return e},e}var rt=Object(b.e)(p.f)(at(),(function(e){return e.theme.colors.hyperlink})),ct=Object(b.e)(_e.a)(nt()),lt=b.e.th(tt()),ot=b.e.div(et()),it=b.e.table(Xe(),(function(e){return e.theme.colors.surfaceL2}),(function(e){return e.theme.colors.fontPrimary}),Je.b,(function(e){return e.theme.colors.fontTertiary})),ut=b.e.tr(Ye(),(function(e){return e.theme.colors.surfaceL3})),st=Object(b.e)(y.a)(Qe()),ft={setSelectedContractType:q.g},mt=Object(d.b)((function(e){return{networkId:Object(k.d)(e),walletInfo:Object(k.e)(e),walletBalance:Object(P.j)(e),isFetchingWalletBalances:Object(P.c)(e),isRefreshingLoansContractInfo:Object(q.e)(e),contractType:Object(q.d)(e),contract:Object(q.c)(e),ethRate:Object(I.c)(e)}}),ft)((function(e){var t=e.walletInfo.currentWallet,n=e.collateralPair,a=e.walletBalance,c=e.isFetchingWalletBalances,l=e.isRefreshingLoansContractInfo,o=e.networkId,i=e.setSelectedContractType,u=e.contractType,s=e.contract,f=e.ethRate,m=Object(j.c)().t,d=n.collateralCurrencyKey,b=n.loanCurrencyKey,O=n.interestRatePercent,g=n.issueFeeRatePercent,E=n.totalOpenLoanCount,y=n.minLoanSize,x=n.collateralizationRatioPercent,C=n.issueLimit,k=n.totalIssuedSynths,P=n.lockedCollateralAmount,S=[{label:m("loans.dashboard.loan-info.interest-fee"),value:Object(Ze.j)(O)},{label:m("loans.dashboard.loan-info.minting-fee"),value:Object(Ze.j)(g)},{label:m("loans.dashboard.loan-info.number-of-open-loans"),value:E},{label:r.a.createElement(j.a,{i18nKey:"loans.dashboard.loan-info.currency-limit",values:{currencyKey:b},components:[r.a.createElement(p.d,null)]}),value:Object(Ze.e)(C,0)},{label:r.a.createElement(j.a,{i18nKey:"loans.dashboard.loan-info.currency-supply",values:{currencyKey:b},components:[r.a.createElement(p.d,null)]}),value:Object(Ze.e)(k,0)},{label:m("loans.dashboard.loan-info.min-loan-size"),value:Object(Ze.g)(d,y,0)},{label:m("loans.dashboard.loan-info.collateral-size"),value:Object(Ze.j)(x,0)},{label:m("loans.dashboard.loan-info.locked-currency",{currencyKey:d}),value:Object(Ze.e)(P,0)},{label:m("common.wallet.eth-value"),value:Object(Ze.e)(f)}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(L.d,null,m("loans.dashboard.title",{currencyKey:d})),r.a.createElement(p.g,null,r.a.createElement(st,{isActive:"sETH"===u,size:"sm",palette:"secondary",onClick:function(){return i("sETH")}},m("loans.dashboard.tabs.sETH")),r.a.createElement(st,{isActive:"sUSD"===u,size:"sm",palette:"secondary",onClick:function(){return i("sUSD")}},m("loans.dashboard.tabs.sUSD")))),l&&r.a.createElement($e.a,{size:"sm"}),r.a.createElement(rt,{href:Object(ne.a)(o,s.address)},m("common.contracts.view"),r.a.createElement(ct,{width:"8",height:"8"}))),r.a.createElement(w.a.Body,null,r.a.createElement(ot,null,S.map((function(e,t){return r.a.createElement(p.x,{key:"loanInfo".concat(t)},r.a.createElement(p.y,null,e.label),r.a.createElement(p.z,null,e.value))}))))),r.a.createElement(it,{cellSpacing:"0",cellPadding:"0"},r.a.createElement("thead",null,r.a.createElement(ut,null,r.a.createElement(lt,null,r.a.createElement("span",null,m("common.wallet.your-wallet")),c&&r.a.createElement($e.a,{size:"sm"})),r.a.createElement("th",null,m("common.wallet.currency-balance",{currencyKey:b})),r.a.createElement("th",null,m("common.wallet.currency-balance",{currencyKey:d})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"60%"}}),r.a.createElement("td",null,t?Object(Ze.e)(Object(h.a)(a,b)):v.a),r.a.createElement("td",null,t?Object(Ze.e)(Object(h.a)(a,d)):v.a)))))})),dt=n(257),bt=n(173),pt=n(732);function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gt=r.a.createElement("path",{d:"M35.131 2H2.81444C2.61518 2.00185 2.41657 2.02369 2.22166 2.06525C0.932902 2.33771 0.00814438 3.47126 0 4.78853V27.6752C0 29.2087 1.28089 30.4128 2.81444 30.4128H35.131C36.6645 30.4128 37.9454 29.2087 37.9454 27.6752V4.78853C37.9454 3.25498 36.6645 2 35.131 2Z",fill:"#3B375B"}),Et=r.a.createElement("path",{d:"M38 10.2554C38.5523 10.2554 39 10.7031 39 11.2554V21.1175C39 21.6698 38.5523 22.1175 38 22.1175H30.6839C28.6394 22.1175 26.9819 20.46 26.9819 18.4155V13.9574C26.9819 11.9128 28.6394 10.2554 30.6839 10.2554H38Z",fill:"#6F6E98"}),ht=r.a.createElement("path",{d:"M32.5766 18.2339C33.6883 18.2339 34.5896 17.3327 34.5896 16.221C34.5896 15.1092 33.6883 14.208 32.5766 14.208C31.4649 14.208 30.5637 15.1092 30.5637 16.221C30.5637 17.3327 31.4649 18.2339 32.5766 18.2339Z",fill:"#3B375B"}),vt=r.a.createElement("path",{d:"M44.5156 16.3828C44.8555 16.7227 45.2891 16.8984 45.8164 16.8984C46.3438 16.8984 46.7891 16.7227 47.1289 16.3828C47.4688 16.043 47.6445 15.6094 47.6445 15.1055C47.6445 14.5898 47.4688 14.1562 47.1289 13.8164C46.7891 13.4766 46.3438 13.3008 45.8164 13.3008C45.2891 13.3008 44.8555 13.4766 44.5156 13.8164C44.1758 14.1562 44 14.5898 44 15.1055C44 15.6094 44.1758 16.043 44.5156 16.3828ZM45.1748 0C44.6005 0 44.1442 0.482592 44.1764 1.05598L44.7088 10.5521C44.7385 11.0818 45.1767 11.4961 45.7072 11.4961H45.9373C46.4678 11.4961 46.906 11.0818 46.9357 10.5521L47.4681 1.05598C47.5003 0.48259 47.044 0 46.4697 0H45.1748Z",fill:"#3B375B"}),yt=function(e){var t=e.svgRef,n=e.title,a=jt(e,["svgRef","title"]);return r.a.createElement("svg",Ot({width:48,height:31,viewBox:"0 0 48 31",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,gt,Et,ht,vt)},wt=r.a.forwardRef((function(e,t){return r.a.createElement(yt,Ot({svgRef:t},e))}));n.p;function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ct=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z",fill:"#D94454"}),kt=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5872 13.125L13.125 14.3796L18.6762 20.2548L13.125 26.13L14.5872 27.3847L20 21.6559L25.4128 27.3847L26.875 26.13L21.3238 20.2548L26.875 14.3796L25.4128 13.125L20 18.8538L14.5872 13.125Z",fill:"white"}),Pt=function(e){var t=e.svgRef,n=e.title,a=Lt(e,["svgRef","title"]);return r.a.createElement("svg",xt({width:40,height:40,viewBox:"0 0 40 40",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,Ct,kt)},St=r.a.forwardRef((function(e,t){return r.a.createElement(Pt,xt({svgRef:t},e))})),It=(n.p,n(266)),Rt=n(267),Tt=n(172),Ht=n(33);function zt(){var e=Object(m.a)(["\n\tmargin-left: 5px;\n"]);return zt=function(){return e},e}function qt(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return qt=function(){return e},e}function Kt(){var e=Object(m.a)(["\n\tcolor: ",";\n\tbox-sizing: border-box;\n\tfont-size: 13px;\n\ttext-align: center;\n\t","\n"]);return Kt=function(){return e},e}var Dt=Object(b.e)(p.f)(Kt(),(function(e){return e.theme.colors.hyperlink}),(function(e){return e.isDisabled&&Object(b.d)(qt())})),At=Object(b.e)(_e.a)(zt()),Bt=Dt;function Ft(){var e=Object(m.a)(["\n\tpadding-left: 24px;\n"]);return Ft=function(){return e},e}function Mt(){var e=Object(m.a)(["\n\tcolor: ",";\n\tuser-select: none;\n\ttext-transform: uppercase;\n\tbackground-color: ",";\n"]);return Mt=function(){return e},e}function Nt(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: ",";\n\tfont-size: 12px;\n\tpadding: 10px 0;\n\theight: ",";\n\tbox-sizing: border-box;\n\t&:first-child {\n\t\tpadding-left: 18px;\n\t}\n\t&:last-child {\n\t\tjustify-content: flex-end;\n\t\tpadding-right: 18px;\n\t}\n"]);return Nt=function(){return e},e}function Wt(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\t&:hover {\n\t\tbackground-color: ",";\n\t\t> * {\n\t\t\ttransition: transform 0.2s ease-out;\n\t\t\ttransform: scale(1.02);\n\t\t}\n\t}\n"]);return Wt=function(){return e},e}function Ut(){var e=Object(m.a)(["\n\tmax-height: calc(100% - 40px);\n\toverflow-y: auto;\n\toverflow-x: hidden;\n"]);return Ut=function(){return e},e}function Vt(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\tmargin-bottom: 8px;\n\tpadding-left: 24px;\n"]);return Vt=function(){return e},e}function Gt(){var e=Object(m.a)(["\n\twidth: 100%;\n\theight: 100%;\n\toverflow-x: auto;\n\tposition: relative;\n"]);return Gt=function(){return e},e}var _t=b.e.div(Gt()),Zt=b.e.div(Vt(),(function(e){return e.theme.colors.surfaceL3})),Jt=b.e.div(Ut()),$t=Object(b.e)(Zt)(Wt(),(function(e){return e.theme.colors.surfaceL2}),(function(e){return e.theme.colors.accentL1})),Qt=b.e.div(Nt(),(function(e){return e.theme.colors.fontPrimary}),Je.b),Yt=Object(b.e)(Qt)(Mt(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.surfaceL3})),Xt=Object(b.e)(p.K)(Ft()),en=Object(d.b)((function(e){return{collateralPair:Object(q.f)(e),networkId:Object(k.d)(e)}}),null)((function(e){var t=e.networkId,n=e.partialLiquidations,c=e.collateralPair,l=Object(j.c)().t,o=c.collateralCurrencyKey,i=c.loanCurrencyKey,u=Object(a.useMemo)((function(){return[{Header:r.a.createElement(r.a.Fragment,null,l("loans.liquidations.sub-table.collateral-col")),accessor:"liquidatedCollateral",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(o,e.cell.value)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,l("loans.liquidations.sub-table.penalty-col")),accessor:"penaltyAmount",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(o,e.cell.value)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,l("loans.liquidations.sub-table.repaid-col")),accessor:"liquidatedAmount",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(i,e.cell.value)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,l("loans.liquidations.sub-table.liquidator-col")),accessor:"liquidator",Cell:function(e){return e.cell.value},width:150,sortable:!0},{id:"verify",Header:r.a.createElement(r.a.Fragment,null,l("loans.liquidations.sub-table.verify-col")),accessor:"txHash",Cell:function(e){return r.a.createElement(Bt,{isDisabled:!e.cell.value,href:Object(ne.c)(t,e.cell.value)},l("common.transaction.view"),r.a.createElement(At,{width:"8",height:"8"}))},width:150}]}),[o,l,i,t]),s=Object(bt.useTable)({columns:u,data:n,initialState:{sortBy:[{id:"timeCreated",desc:!0}]}},bt.useFlexLayout,bt.useSortBy),f=s.getTableProps,m=s.getTableBodyProps,d=s.headerGroups,b=s.rows,p=s.prepareRow;return r.a.createElement(_t,f(),d.map((function(e){return r.a.createElement(Zt,e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement(Yt,Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"th"}),e.render("Header"))})))})),b.length>0?r.a.createElement(Jt,m(),b.map((function(e){return p(e),r.a.createElement($t,Object.assign({},e.getRowProps(),{className:"tr"}),e.cells.map((function(e){return r.a.createElement(Qt,e.getCellProps(),e.render("Cell"))})))}))):0===b.length&&r.a.createElement(Xt,null,l("loans.liquidations.table.no-partial-liquidations")))}));function tn(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: 5px;\n"]);return tn=function(){return e},e}function nn(){var e=Object(m.a)(["\n\tfont-size: 15px;\n\tcolor: ",";\n"]);return nn=function(){return e},e}function an(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-auto-flow: row;\n\tgrid-gap: 20px;\n\twidth: 300px;\n\tjustify-items: center;\n\tpadding: 30px;\n\tbackground-color: ",";\n\t",";\n"]);return an=function(){return e},e}function rn(){var e=Object(m.a)(["\n\tcolor: ",";\n\tuser-select: none;\n\ttext-transform: uppercase;\n\tbackground-color: ",";\n"]);return rn=function(){return e},e}function cn(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: ",";\n\tfont-size: 12px;\n\tpadding: 10px 0;\n\theight: ",";\n\tbox-sizing: border-box;\n\t&:first-child {\n\t\tpadding-left: 18px;\n\t}\n\t&:last-child {\n\t\tjustify-content: flex-end;\n\t\tpadding-right: 18px;\n\t}\n"]);return cn=function(){return e},e}function ln(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\t&:hover {\n\t\tbackground-color: ",";\n\t\t> * {\n\t\t\ttransition: transform 0.2s ease-out;\n\t\t\ttransform: scale(1.02);\n\t\t}\n\t}\n"]);return ln=function(){return e},e}function on(){var e=Object(m.a)(["\n\tmax-height: calc(100% - 40px);\n\toverflow-y: auto;\n\toverflow-x: hidden;\n"]);return on=function(){return e},e}function un(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\tmargin-bottom: 8px;\n"]);return un=function(){return e},e}function sn(){var e=Object(m.a)(["\n\twidth: 100%;\n\theight: 100%;\n\toverflow-x: auto;\n\tposition: relative;\n"]);return sn=function(){return e},e}function fn(){var e=Object(m.a)(["\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t  "]);return fn=function(){return e},e}function mn(){var e=Object(m.a)(["\n\t",";\n"]);return mn=function(){return e},e}var dn=Object(b.e)($e.a)(mn(),(function(e){return e.centered?p.O:Object(b.d)(fn())})),bn=b.e.div(sn()),pn=b.e.div(un(),(function(e){return e.theme.colors.surfaceL3})),On=b.e.div(on()),jn=Object(b.e)(pn)(ln(),(function(e){return e.isSelectedLoan?e.theme.colors.accentL1:e.theme.colors.surfaceL3}),(function(e){return e.theme.colors.accentL1})),gn=b.e.div(cn(),(function(e){return e.theme.colors.fontPrimary}),Je.b),En=Object(b.e)(gn)(rn(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.surfaceL3})),hn=b.e.div(an(),(function(e){return e.theme.colors.surfaceL3}),p.O),vn=b.e.div(nn(),(function(e){return e.theme.colors.fontPrimary})),yn=b.e.span(tn()),wn={fetchLoans:S.c,showWalletPopup:Ht.j},xn=Object(d.b)((function(e){return{walletInfo:Object(k.e)(e),loans:Object(S.g)(e),isLoadingMyLoans:Object(S.e)(e),isRefreshingMyLoans:Object(S.f)(e),myLoansLoadingError:Object(S.h)(e),isLoadedMyLoans:Object(S.d)(e),contractType:Object(q.d)(e),collateralPair:Object(q.f)(e),networkId:Object(k.d)(e)}}),wn)((function(e){var t=e.onSelectLoan,n=e.selectedLoan,c=e.networkId,l=e.setVisiblePanel,o=e.fetchLoans,i=e.walletInfo.currentWallet,u=e.loans,s=e.collateralPair,f=e.isLoadingMyLoans,m=e.myLoansLoadingError,d=e.isLoadedMyLoans,b=e.showWalletPopup,O=e.contractType,g=Object(j.c)().t,E=s.collateralCurrencyKey,h=Object(a.useMemo)((function(){return[{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.amount-borrowed-col")),accessor:"loanAmount",Cell:function(e){var t=e.row.original.loanType;return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)("sETH"===t?"sETH":"sUSD",e.cell.value,4)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.collateral-col")),accessor:"collateralAmount",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(E,e.cell.value,4)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.c-ratio-col")),accessor:"cRatio",Cell:function(e){return"".concat(e.cell.value.toFixed(4),"%")},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.time-opened-col")),accessor:"timeCreated",Cell:function(e){return Object(Ze.m)(e.cell.value)},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.current-interest-fee-col")),accessor:"currentInterest",Cell:function(e){var t=e.row.original.loanType;return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)("sETH"===t?"sETH":"sUSD",e.cell.value,4)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.status-col")),accessor:"status",Cell:function(e){return g("common.tx-status.".concat(e.cell.value))},width:100,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,g("loans.my-loans.table.verify-tx-col")),accessor:"txHash",Cell:function(e){return r.a.createElement(Bt,{isDisabled:!e.cell.value,href:Object(ne.c)(c,e.cell.value)},g("common.transaction.view"),r.a.createElement(At,{width:"8",height:"8"}))},width:150,sortable:!0},{id:"action",Cell:function(e){var n=e.row,a=e.rows,c=e.toggleRowExpanded,o=n.original,i=o.status===S.a.CLOSED;return r.a.createElement(r.a.Fragment,null,"sUSD"===O&&o.hasPartialLiquidations&&r.a.createElement(y.e,{onClick:function(){var e=a.find((function(e){return e.isExpanded}));if(e)if(Boolean(e&&n.id.split(".")[0]===e.id)){var t=e.subRows.find((function(e){return e.isExpanded}));if(t)t.id===n.id||c(t.id,!1)}else c(e.id,!1);n.toggleRowExpanded()}},g("loans.liquidations.table.activity")),!i&&r.a.createElement(y.e,{style:{marginLeft:16},onClick:function(){l(null),t(o)}},g("sETH"===O?"common.actions.close":"common.actions.options")))}}]}),[O,n,u]),v=Object(bt.useTable)({columns:h,data:u,initialState:{sortBy:[{id:"timeCreated",desc:!0}]}},bt.useSortBy,bt.useExpanded,bt.useFlexLayout),w=v.getTableProps,x=v.getTableBodyProps,L=v.headerGroups,C=v.rows,k=v.prepareRow;return Object(a.useEffect)((function(){i&&o()}),[o,i,O]),r.a.createElement(bn,w(),L.map((function(e){return r.a.createElement(pn,e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement(En,Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"th"}),e.render("Header"),e.sortable&&r.a.createElement(yn,null,e.isSorted?e.isSortedDesc?r.a.createElement(It.a,null):r.a.createElement(Rt.a,null):r.a.createElement(Tt.a,null)))})))})),!f&&d&&C.length>0?r.a.createElement(On,x(),C.map((function(e){return k(e),r.a.createElement("div",{key:e.id},r.a.createElement(jn,Object.assign({},e.getRowProps(),{className:"tr",isSelectedLoan:null!=n&&n.loanID===e.original.loanID}),e.cells.map((function(e){return r.a.createElement(gn,e.getCellProps(),e.render("Cell"))}))),e.isExpanded&&r.a.createElement(en,{partialLiquidations:e.original.partialLiquidations}))}))):null==i?r.a.createElement(hn,null,r.a.createElement(wt,null),r.a.createElement(vn,null,g("common.wallet.no-wallet-connected")),r.a.createElement(y.e,{onClick:b},g("common.wallet.connect-currency-wallet",{currencyKey:E}))):m?r.a.createElement(hn,null,r.a.createElement(St,null),r.a.createElement(vn,null,g("common.errors.error-loading")),r.a.createElement(y.e,{onClick:function(){return o()}},g("common.actions.click-to-retry"))):f&&!d?r.a.createElement(dn,{size:"sm",centered:!0}):0===C.length&&d&&r.a.createElement(p.K,null,g("loans.my-loans.table.no-results")))}));function Ln(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-left: 5px;\n"]);return Ln=function(){return e},e}function Cn(){var e=Object(m.a)(["\n\tfont-size: 15px;\n\tcolor: ",";\n"]);return Cn=function(){return e},e}function kn(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-auto-flow: row;\n\tgrid-gap: 20px;\n\twidth: 300px;\n\tjustify-items: center;\n\tpadding: 30px;\n\tbackground-color: ",";\n\t",";\n"]);return kn=function(){return e},e}function Pn(){var e=Object(m.a)(["\n\tcolor: ",";\n\tuser-select: none;\n\ttext-transform: uppercase;\n\tbackground-color: ",";\n"]);return Pn=function(){return e},e}function Sn(){var e=Object(m.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: ",";\n\tfont-size: 12px;\n\tpadding: 10px 0;\n\theight: ",";\n\tbox-sizing: border-box;\n\t&:first-child {\n\t\tpadding-left: 18px;\n\t}\n\t&:last-child {\n\t\tjustify-content: flex-end;\n\t\tpadding-right: 18px;\n\t}\n"]);return Sn=function(){return e},e}function In(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\t&:hover {\n\t\tbackground-color: ",";\n\t\t> * {\n\t\t\ttransition: transform 0.2s ease-out;\n\t\t\ttransform: scale(1.02);\n\t\t}\n\t}\n"]);return In=function(){return e},e}function Rn(){var e=Object(m.a)(["\n\tmax-height: calc(100% - 40px);\n\toverflow-y: auto;\n\toverflow-x: hidden;\n"]);return Rn=function(){return e},e}function Tn(){var e=Object(m.a)(["\n\tbackground-color: ",";\n\tmargin-bottom: 8px;\n"]);return Tn=function(){return e},e}function Hn(){var e=Object(m.a)(["\n\twidth: 100%;\n\theight: 100%;\n\toverflow-x: auto;\n\tposition: relative;\n"]);return Hn=function(){return e},e}function zn(){var e=Object(m.a)(["\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t  "]);return zn=function(){return e},e}function qn(){var e=Object(m.a)(["\n\t",";\n"]);return qn=function(){return e},e}var Kn=Object(b.e)($e.a)(qn(),(function(e){return e.centered?p.O:Object(b.d)(zn())})),Dn=b.e.div(Hn()),An=b.e.div(Tn(),(function(e){return e.theme.colors.surfaceL3})),Bn=b.e.div(Rn()),Fn=Object(b.e)(An)(In(),(function(e){return e.isSelectedLiquidation?e.theme.colors.accentL1:e.theme.colors.surfaceL3}),(function(e){return e.theme.colors.accentL1})),Mn=b.e.div(Sn(),(function(e){return e.theme.colors.fontPrimary}),Je.b),Nn=Object(b.e)(Mn)(Pn(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.surfaceL3})),Wn=b.e.div(kn(),(function(e){return e.theme.colors.surfaceL3}),p.O),Un=b.e.div(Cn(),(function(e){return e.theme.colors.fontPrimary})),Vn=b.e.span(Ln()),Gn={fetchLiquidations:dt.b,showWalletPopup:Ht.j},_n=Object(d.b)((function(e){return{walletInfo:Object(k.e)(e),liquidations:Object(dt.f)(e),isLoadingLiquidations:Object(dt.d)(e),isRefreshingLiquidations:Object(dt.e)(e),liquidationsLoadingError:Object(dt.g)(e),isLoadedLiquidations:Object(dt.c)(e),contractType:Object(q.d)(e),collateralPair:Object(q.f)(e)}}),Gn)((function(e){var t=e.onSelectLiquidation,n=e.selectedLiquidation,c=e.fetchLiquidations,l=e.walletInfo.currentWallet,o=e.liquidations,i=e.collateralPair,u=e.isLoadedLiquidations,s=e.liquidationsLoadingError,f=e.isLoadingLiquidations,m=e.showWalletPopup,d=e.contractType,b=e.setView,O=Object(j.c)().t,g=i.collateralCurrencyKey,E=i.loanCurrencyKey,h=Object(a.useMemo)((function(){return[{Header:r.a.createElement(r.a.Fragment,null,O("loans.liquidations.table.address-col")),accessor:"account",Cell:function(e){return Object(Ze.t)(e.cell.value)},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,O("loans.liquidations.table.c-ratio-col")),accessor:"cRatioPercentage",Cell:function(e){return"".concat(e.cell.value,"%")},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,O("loans.liquidations.table.collateral-col")),accessor:"collateralAmount",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(g,e.cell.value)))},width:150,sortable:!0},{Header:r.a.createElement(r.a.Fragment,null,O("loans.liquidations.table.debt-col")),accessor:"totalDebtToCover",Cell:function(e){return r.a.createElement(pt.a,{title:Object(Ze.e)(e.cell.value,18)},r.a.createElement("span",null,Object(Ze.g)(E,e.cell.value)))},width:150,sortable:!0},{id:"action",Cell:function(e){var n=e.row,a=e.rows,c=e.toggleRowExpanded,l=n.original;return r.a.createElement(r.a.Fragment,null,l.hasPartialLiquidations&&r.a.createElement(y.e,{style:{marginRight:16},onClick:function(){var e=a.find((function(e){return e.isExpanded}));if(e)if(Boolean(e&&n.id.split(".")[0]===e.id)){var t=e.subRows.find((function(e){return e.isExpanded}));if(t)t.id===n.id||c(t.id,!1)}else c(e.id,!1);n.toggleRowExpanded()}},O("loans.liquidations.table.activity")),r.a.createElement(y.e,{onClick:function(){b(tr.LIQUIDATIONS),t(l)}},O("loans.liquidations.table.liquidate")))}}]}),[g,E,b,O,t,o]),v=Object(bt.useTable)({columns:h,data:o,initialState:{sortBy:[{id:"cRatio",desc:!1}]}},bt.useSortBy,bt.useExpanded,bt.useFlexLayout),w=v.getTableProps,x=v.getTableBodyProps,L=v.headerGroups,C=v.rows,k=v.prepareRow;return Object(a.useEffect)((function(){l&&c()}),[c,l,d]),r.a.createElement(Dn,w(),L.map((function(e){return r.a.createElement(An,e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement(Nn,Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"th"}),e.render("Header"),e.sortable&&r.a.createElement(Vn,null,e.isSorted?e.isSortedDesc?r.a.createElement(It.a,null):r.a.createElement(Rt.a,null):r.a.createElement(Tt.a,null)))})))})),!f&&u&&C.length>0?r.a.createElement(Bn,x(),C.map((function(e){return k(e),r.a.createElement("div",{key:e.id},r.a.createElement(Fn,Object.assign({},e.getRowProps(),{className:"tr",isSelectedLiquidation:null!=n&&n.id===e.original.id}),e.cells.map((function(e){return r.a.createElement(Mn,e.getCellProps(),e.render("Cell"))}))),e.isExpanded&&r.a.createElement(en,{partialLiquidations:e.original.partialLiquidations}))}))):null==l?r.a.createElement(Wn,null,r.a.createElement(wt,null),r.a.createElement(Un,null,O("common.wallet.no-wallet-connected")),r.a.createElement(y.e,{onClick:m},O("common.wallet.connect-currency-wallet",{currencyKey:g}))):s?r.a.createElement(Wn,null,r.a.createElement(St,null),r.a.createElement(Un,null,O("common.errors.error-loading")),r.a.createElement(y.e,{onClick:function(){return c()}},O("common.actions.click-to-retry"))):f&&!u?r.a.createElement(Kn,{size:"sm",centered:!0}):0===C.length&&u&&r.a.createElement(p.K,null,O("loans.liquidations.table.no-results")))}));function Zn(){var e=Object(m.a)(["\n\tmargin: 0;\n\theight: 100%;\n\tcolor: ",";\n\t&:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tspan {\n\t\t\tbackground-color: ",";\n\t\t}\n\t}\n\t&.active {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\t&:hover {\n\t\t\tspan {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t}\n\t}\n"]);return Zn=function(){return e},e}function Jn(){var e=Object(m.a)(["\n\tpadding: 0;\n\tflex-grow: 1;\n"]);return Jn=function(){return e},e}function $n(){var e=Object(m.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return $n=function(){return e},e}var Qn=Object(b.e)(w.a)($n()),Yn=Object(b.e)(w.a.Body)(Jn()),Xn=Object(b.e)(y.a)(Zn(),(function(e){return e.theme.colors.fontTertiary}),(function(e){return e.theme.colors.fontPrimary}),(function(e){return e.theme.colors.accentL1}),(function(e){return e.theme.colors.accentL2}),(function(e){return e.theme.colors.accentL2}),(function(e){return e.theme.colors.fontPrimary}),(function(e){return e.theme.colors.accentL1})),ea=Object(d.b)((function(e){return{isRefreshingMyLoans:Object(S.f)(e),isRefreshingMyLiquidations:Object(dt.e)(e),contractType:Object(q.d)(e)}}),null)((function(e){var t=e.isRefreshingMyLoans,n=e.isRefreshingMyLiquidations,c=e.contractType,l=e.setVisiblePanel,o=e.selectedLoan,u=e.onSelectLoan,s=e.onSelectLiquidation,f=e.selectedLiquidation,m=e.setView,d=Object(j.c)().t,b=Object(a.useState)(0),p=Object(i.a)(b,2),O=p[0],g=p[1];return r.a.createElement(Qn,null,r.a.createElement(w.a.Header,null,r.a.createElement(Xn,{isActive:0===O,size:"sm",palette:"tab",onClick:function(){g(0),m(tr.LOANS)}},r.a.createElement(L.d,null,d("loans.my-loans.title"))),"sUSD"===c&&r.a.createElement(Xn,{isActive:1===O,size:"sm",palette:"tab",onClick:function(){g(1),m(tr.LIQUIDATIONS)}},r.a.createElement(L.d,null,d("loans.liquidations.title"))),(t||n)&&r.a.createElement($e.a,{size:"sm"})),r.a.createElement(Yn,null,0===O?r.a.createElement(xn,{setVisiblePanel:l,selectedLoan:o,onSelectLoan:u}):r.a.createElement(_n,{setView:m,selectedLiquidation:f,onSelectLiquidation:s})))}));function ta(){var e=Object(m.a)(["\n\twidth: 100%;\n\tcolor: ",";\n\tmargin-bottom: 16px;\n\ttext-transform: capitalize;\n"]);return ta=function(){return e},e}function na(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return na=function(){return e},e}function aa(){var e=Object(m.a)(["\n\t","\n"]);return aa=function(){return e},e}var ra="add",ca="withdraw",la="repay",oa="close",ia=Object(b.e)(w.a)(aa(),(function(e){return!e.isInteractive&&Object(b.d)(na())})),ua=Object(b.e)(y.a)(ta(),(function(e){return e.theme.colors.white})),sa=function(e){var t=e.onActionPress,n=e.isInteractive,a=Object(j.c)().t;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,a("loans.loan-card.actions.title"))):r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,a("loans.loan-card.select-loan.title"))),r.a.createElement(ia,{isInteractive:n},r.a.createElement(w.a.Body,null,r.a.createElement(ua,{size:"lg",palette:"tab",onClick:function(){return t("add")}},a("loans.loan-card.actions.add")),r.a.createElement(ua,{size:"lg",palette:"tab",onClick:function(){return t("withdraw")}},a("loans.loan-card.actions.withdraw")),r.a.createElement(ua,{size:"lg",palette:"tab",onClick:function(){return t("repay")}},a("loans.loan-card.actions.repay")),r.a.createElement(ua,{size:"lg",palette:"tab",onClick:function(){return t("close")}},a("loans.loan-card.actions.close")))))};function fa(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return fa=function(){return e},e}function ma(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-row-gap: 15px;\n"]);return ma=function(){return e},e}function da(){var e=Object(m.a)(["\n\tjustify-content: space-between;\n"]);return da=function(){return e},e}function ba(){var e=Object(m.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tfloat: right;\n\ttext-align: center;\n\tcursor: pointer;\n"]);return ba=function(){return e},e}function pa(){var e=Object(m.a)(["\n\t\twidth: auto;\n\t"]);return pa=function(){return e},e}function Oa(){var e=Object(m.a)(["\n\t","\n\t.body {\n\t\tborder-width: 1px 1px 1px 1px;\n\t\tmargin-top: 20px;\n\t}\n\tz-index: 100;\n"]);return Oa=function(){return e},e}function ja(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return ja=function(){return e},e}function ga(){var e=Object(m.a)(["\n\t","\n"]);return ga=function(){return e},e}var Ea=Object(b.e)(w.a)(ga(),(function(e){return!e.isInteractive&&Object(b.d)(ja())})),ha=Object(b.e)(oe.a)(Oa(),ie.b.medium(pa())),va=b.e.div(ba()),ya=Object(b.e)(p.k)(da()),wa=b.e.div(ma()),xa=Object(b.e)(L.c)(fa(),(function(e){return e.theme.colors.fontPrimary})),La={updateLoan:S.i,fetchLoans:S.c},Ca=Object(d.b)((function(e){return{gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),walletInfo:Object(k.e)(e),walletBalance:Object(P.j)(e),contract:Object(q.c)(e),contractType:Object(q.d)(e),collateralPair:Object(q.f)(e),networkId:Object(k.d)(e)}}),La)((function(e){var t=e.selectedLoan,n=e.gasInfo,c=e.networkId,s=e.ethRate,f=e.fetchLoans,m=e.walletInfo.currentWallet,d=e.collateralPair,b=e.contract,O=(e.contractType,e.notify),h=e.type,v=t.collateralAmount,C=t.loanAmount,k=t.currentInterest,P=t.loanID,S=v*s/(C+k)*100,I=Object(j.c)().t,R=Object(a.useState)(n.gasLimit),T=Object(i.a)(R,2),H=T[0],z=T[1],q=Object(a.useState)(null),K=Object(i.a)(q,2),D=K[0],A=K[1],B=Object(a.useState)(null),F=Object(i.a)(B,2),M=F[0],N=F[1],W=Object(a.useState)(S),U=Object(i.a)(W,2),V=U[0],G=U[1],_=Object(a.useState)(!1),Z=Object(i.a)(_,2),J=Z[0],$=Z[1],Q=Object(a.useState)(null),X=Object(i.a)(Q,2),ee=X[0],ae=X[1],re=function(e,t){G(t),$(e)},ce=Object(a.useState)(0),le=Object(i.a)(ce,2),oe=le[0],ie=le[1],ue=d.collateralCurrencyKey,se=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r,o,i,s,d,p,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.b.utils,a=u.b.signer,A(null),e.prev=2,r=null===P||void 0===P?void 0:P.toString(),o=b.connect(a),i=t.parseEther(oe.toString()),h!==ra){e.next=12;break}return e.next=9,o.estimate.depositCollateral(m,r,{value:i});case 9:s=e.sent,e.next=15;break;case 12:return e.next=14,o.estimate.withdrawCollateral(r,i);case 14:s=e.sent;case 15:if(d=Object(E.a)(Number(s)),z(d),h!==ra){e.next=23;break}return e.next=20,o.depositCollateral(m,r,{value:i,gasPrice:n.gasPrice*g.a,gasLimit:d});case 20:p=e.sent,e.next=26;break;case 23:return e.next=25,o.withdrawCollateral(r,i,{gasPrice:n.gasPrice*g.a,gasLimit:d});case 25:p=e.sent;case 26:O&&(j=O.hash(p.hash),j.emitter.on("txConfirmed",(function(){return ae(p.hash),f(),{onclick:function(){return window.open(Object(ne.c)(c,p.hash),"_blank")}}}))),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(2),A(I("common.errors.unknown-error-try-again"));case 32:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=Number(V)/100*(C+k)/s;ie(h===ra?e-v:v-e)}),[V,v,k,s,C,h]),Object(a.useEffect)((function(){N(null),h===ra?V<S&&N(I("common.errors.c-ratio-below")):V>S&&N(I("common.errors.c-ratio-above"))}),[V,S,I,h]);var fe=!!M;return r.a.createElement(Ea,{isInteractive:!0},r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,I(h===ra?"loans.loan-card.add-collateral.title":"loans.loan-card.withdraw-collateral.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(wa,null,r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:ue,value:Math.abs("".concat(oe.toFixed(4)||v)),label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,I(h===ra?"loans.loan-card.add-collateral.subtitle":"loans.loan-card.withdraw-collateral.subtitle")),r.a.createElement(p.m,null,I("loans.loan-card.current-collateral",{collateralAmount:t.collateralAmount.toFixed(2),currencyKey:ue}))),disabled:!0,errorMessage:M})),r.a.createElement(p.x,null,r.a.createElement(p.y,null,I("loans.loan-card.new-c-ratio")),r.a.createElement(ya,null,r.a.createElement(p.z,null,Number(V),"%"),r.a.createElement(ha,{height:"auto",isOpen:J,handleClose:function(){return re(!1,V)},width:"170px",onHeaderClick:function(){return re(!J,V)},header:r.a.createElement(va,null,r.a.createElement(p.B,null,I("common.actions.edit"))),body:r.a.createElement(ge,{setCRatio:G,cRatio:V,setDropdownIsOpen:re})})))),r.a.createElement(Y.a,{gasPrice:n.gasPrice,gasLimit:H,ethRate:s}),r.a.createElement(y.d,{onClick:se,disabled:!t||!m||fe},I("common.actions.confirm")),ee&&r.a.createElement(te,{onDismiss:function(){return ae(null)},size:"sm",type:"success",floating:!0},r.a.createElement(xa,{as:"a",target:"_blank",href:Object(ne.c)(c,ee)},"VIEW TRANSACTION RECEIPT")),D&&r.a.createElement(te,{onDismiss:function(){return A(null)},type:"error",size:"sm",floating:!0},D)))}));function ka(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-row-gap: 15px;\n"]);return ka=function(){return e},e}function Pa(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return Pa=function(){return e},e}function Sa(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return Sa=function(){return e},e}function Ia(){var e=Object(m.a)(["\n\t","\n"]);return Ia=function(){return e},e}var Ra=Object(b.e)(w.a)(Ia(),(function(e){return!e.isInteractive&&Object(b.d)(Sa())})),Ta=Object(b.e)(L.c)(Pa(),(function(e){return e.theme.colors.fontPrimary})),Ha=b.e.div(ka()),za={fetchLiquidations:dt.b},qa=Object(d.b)((function(e){return{collateralPair:Object(q.f)(e),walletInfo:Object(k.e)(e),gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),networkId:Object(k.d)(e)}}),za)((function(e){var t=e.collateralPair,n=e.networkId,c=e.walletInfo.currentWallet,s=e.walletBalance,f=e.gasInfo,m=e.ethRate,d=e.selectedLiquidation,b=e.isInteractive,O=e.notify,v=Object(j.c)().t,C=Object(a.useState)(""),k=Object(i.a)(C,2),P=k[0],S=k[1],I=Object(a.useState)(null),R=Object(i.a)(I,2),T=R[0],H=R[1],z=t.collateralCurrencyKey,q=t.loanCurrencyKey,K=Object(h.a)(s,q),D=Object(a.useState)(f.gasLimit),A=Object(i.a)(D,2),B=A[0],F=A[1],M=Object(a.useState)(null),N=Object(i.a)(M,2),W=N[0],U=N[1],V=Object(a.useState)(null),G=Object(i.a)(V,2),_=G[0],Z=G[1];Object(a.useEffect)((function(){d&&S(d.totalDebtToCover)}),[d]);var J=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r,c,o,i,s,m,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.b.snxJS.EtherCollateralsUSD,a=u.b.utils,U(null),r=t.contract,e.prev=3,c=d.loanId.toString(),o=d.account,i=a.parseEther(P.toString()),e.next=9,r.estimate.liquidateLoan(o,c,i);case 9:return s=e.sent,m=Object(E.a)(Number(s)),F(m),e.next=14,r.liquidateLoan(o,c,i,{gasPrice:f.gasPrice*g.a,gasLimit:m});case 14:b=e.sent,O&&(p=O.hash(b.hash),p.emitter.on("txConfirmed",(function(){return Z(b.hash),S(""),Object(dt.b)(),{onclick:function(){return window.open(Object(ne.c)(n,b.hash),"_blank")}}}))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),U(v("common.errors.unknown-error-try-again"));case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){H(null),d&&""!==P&&c&&P>d.totalDebtToCover&&H(v("common.errors.amount-exceeds-liquidatable"))}),[P,v,c,K,d]),r.a.createElement(Ra,{isInteractive:b},r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,v("loans.liquidations.card.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(Ha,null,r.a.createElement(x.a,{currencyKey:q,value:"".concat(P),label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,r.a.createElement(j.a,{i18nKey:"loans.liquidations.card.amount",values:{currencyKey:q},components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.m,null,v("loans.liquidations.card.total",{debtAmount:d?d.totalDebtToCover:0}))),onChange:function(e,t){S(t)},errorMessage:T}),r.a.createElement(p.x,null,r.a.createElement(p.y,null,r.a.createElement(j.a,{i18nKey:"loans.liquidations.card.receive",components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.z,null,"".concat(d?P/m:0," ").concat(z))),r.a.createElement(p.x,null,r.a.createElement(p.y,null,r.a.createElement(j.a,{i18nKey:"loans.liquidations.card.bonus",components:[r.a.createElement(p.d,null)]})),r.a.createElement(p.z,null,"".concat(d?P/m*d.penaltyPercentage:0," ").concat(z)))),r.a.createElement(Y.a,{gasPrice:f.gasPrice,gasLimit:B,ethRate:m}),r.a.createElement(y.d,{onClick:J,disabled:!d||!c},v("common.actions.liquidate")),_&&r.a.createElement(te,{onDismiss:function(){return Z(null)},size:"sm",type:"success",floating:!0},r.a.createElement(Ta,{as:"a",target:"_blank",href:Object(ne.c)(n,_)},"VIEW TRANSACTION RECEIPT")),W&&r.a.createElement(te,{onDismiss:function(){return U(null)},type:"error",size:"sm",floating:!0},W)))})),Ka=n(801);function Da(){var e=Object(m.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"]);return Da=function(){return e},e}function Aa(){var e=Object(m.a)(["\n\tdisplay: grid;\n\tgrid-row-gap: 15px;\n"]);return Aa=function(){return e},e}function Ba(){var e=Object(m.a)(["\n\tjustify-content: space-between;\n"]);return Ba=function(){return e},e}function Fa(){var e=Object(m.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tfloat: right;\n\ttext-align: center;\n\tcursor: pointer;\n"]);return Fa=function(){return e},e}function Ma(){var e=Object(m.a)(["\n\t\twidth: auto;\n\t"]);return Ma=function(){return e},e}function Na(){var e=Object(m.a)(["\n\t","\n\t.body {\n\t\tborder-width: 1px 1px 1px 1px;\n\t\tmargin-top: 20px;\n\t}\n\tz-index: 100;\n"]);return Na=function(){return e},e}function Wa(){var e=Object(m.a)(["\n\t\t\topacity: 0.3;\n\t\t\tpointer-events: none;\n\t\t"]);return Wa=function(){return e},e}function Ua(){var e=Object(m.a)(["\n\t","\n"]);return Ua=function(){return e},e}var Va=Object(b.e)(w.a)(Ua(),(function(e){return!e.isInteractive&&Object(b.d)(Wa())})),Ga=Object(b.e)(oe.a)(Na(),ie.b.medium(Ma())),_a=b.e.div(Fa()),Za=Object(b.e)(p.k)(Ba()),Ja=b.e.div(Aa()),$a=Object(b.e)(L.c)(Da(),(function(e){return e.theme.colors.fontPrimary})),Qa={fetchLoans:S.c},Ya=Object(d.b)((function(e){return{gasInfo:Object(C.c)(e),ethRate:Object(I.c)(e),walletInfo:Object(k.e)(e),walletBalance:Object(P.j)(e),contract:Object(q.c)(e),contractType:Object(q.d)(e),collateralPair:Object(q.f)(e),networkId:Object(k.d)(e)}}),Qa)((function(e){var t=e.selectedLoan,n=e.gasInfo,c=e.networkId,s=e.fetchLoans,f=e.ethRate,m=e.walletInfo.currentWallet,d=e.collateralPair,b=e.contract,O=(e.contractType,e.notify),h=t.collateralAmount,v=t.loanAmount,C=t.currentInterest,k=t.loanID,P=h*f/(v+C)*100,S=Object(j.c)().t,I=Object(a.useState)(n.gasLimit),R=Object(i.a)(I,2),T=R[0],H=R[1],z=Object(a.useState)(null),q=Object(i.a)(z,2),K=q[0],D=q[1],A=Object(a.useState)(null),B=Object(i.a)(A,2),F=B[0],M=B[1],N=Object(a.useState)(P),W=Object(i.a)(N,2),U=W[0],V=W[1],G=Object(a.useState)(!1),_=Object(i.a)(G,2),Z=_[0],J=_[1],$=Object(a.useState)(null),Q=Object(i.a)($,2),X=Q[0],ee=Q[1],ae=function(e,t){V(t),J(e)},re=Object(a.useState)(0),ce=Object(i.a)(re,2),le=ce[0],oe=ce[1],ie=d.loanCurrencyKey,ue=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r,o,i,f,d,p,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.b.utils,a=u.b.signer,D(null),e.prev=2,r=null===k||void 0===k?void 0:k.toString(),o=b.connect(a),i=t.parseEther(le.toString()),e.next=8,o.estimate.repayLoan(m,r,i);case 8:return f=e.sent,d=Object(E.a)(Number(f)),H(d),e.next=13,o.repayLoan(m,r,i,{gasPrice:n.gasPrice*g.a,gasLimit:d});case 13:p=e.sent,O&&(j=O.hash(p.hash),j.emitter.on("txConfirmed",(function(){return ee(p.hash),s(),{onclick:function(){return window.open(Object(ne.c)(c,p.hash),"_blank")}}}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),D(S("common.errors.unknown-error-try-again"));case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=h*f*100/Number(U)-C;oe(v-e)}),[U,h,C,f,v]),Object(a.useEffect)((function(){M(null),U<P&&M(S("common.errors.c-ratio-below"))}),[U,S,P]);var se=!!F;return r.a.createElement(Va,{isInteractive:!0},r.a.createElement(w.a.Header,null,r.a.createElement(L.d,null,S("loans.loan-card.repay.title"))),r.a.createElement(w.a.Body,null,r.a.createElement(Ja,null,r.a.createElement(p.n,null,r.a.createElement(x.a,{currencyKey:ie,value:Math.abs("".concat(le.toFixed(4)||v)),label:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.l,null,S("loans.loan-card.repay.subtitle",{currencyKey:ie})),r.a.createElement(p.m,null,S("loans.loan-card.current-debt",{loanAmount:t.loanAmount.toFixed(2),currencyKey:ie}))),disabled:!0,errorMessage:F})),r.a.createElement(p.x,null,r.a.createElement(p.y,null,S("loans.loan-card.new-c-ratio")),r.a.createElement(Za,null,r.a.createElement(p.z,null,Number(U),"%"),r.a.createElement(Ga,{height:"auto",isOpen:Z,handleClose:function(){return ae(!1,U)},width:"170px",onHeaderClick:function(){return ae(!Z,U)},header:r.a.createElement(_a,null,r.a.createElement(p.B,null,S("common.actions.edit"))),body:r.a.createElement(ge,{setCRatio:V,cRatio:U,setDropdownIsOpen:ae})})))),r.a.createElement(Y.a,{gasPrice:n.gasPrice,gasLimit:T,ethRate:f}),r.a.createElement(y.d,{onClick:ue,disabled:!t||!m||se},S("common.actions.confirm")),X&&r.a.createElement(te,{onDismiss:function(){return ee(null)},size:"sm",type:"success",floating:!0},r.a.createElement($a,{as:"a",target:"_blank",href:Object(ne.c)(c,X)},"VIEW TRANSACTION RECEIPT")),K&&r.a.createElement(te,{onDismiss:function(){return D(null)},type:"error",size:"sm",floating:!0},K)))}));function Xa(){var e=Object(m.a)(["\n\tmin-width: 389px;\n\tmax-width: 400px;\n"]);return Xa=function(){return e},e}function er(){var e=Object(m.a)(["\n\tflex: 1;\n\toverflow-x: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return er=function(){return e},e}var tr={LOANS:"loan",LIQUIDATIONS:"liquidations"},nr=b.e.div(er()),ar=b.e.div(Xa()),rr={fetchLoansContractInfo:q.b},cr=Object(d.b)((function(e){return{collateralPair:Object(q.f)(e),contractType:Object(q.d)(e),networkId:Object(k.d)(e)}}),rr)((function(e){var t=e.collateralPair,n=e.fetchLoansContractInfo,c=e.contractType,l=e.networkId,o=Object(a.useState)(null),u=Object(i.a)(o,2),s=u[0],f=u[1],m=Object(a.useState)(null),d=Object(i.a)(m,2),b=d[0],O=d[1],j=Object(a.useState)(null),g=Object(i.a)(j,2),E=g[0],h=g[1],v=Object(a.useState)(tr.LOANS),y=Object(i.a)(v,2),w=y[0],x=y[1],L=Object(a.useState)(null),C=Object(i.a)(L,2),k=C[0],P=C[1];Object(a.useEffect)((function(){var e=Object(Ka.a)({dappId:"4e6901c8-10da-420c-9b5e-316fad480172",networkId:l});P(e)}),[l]);var S=function(){h(null)};if(Object(a.useEffect)((function(){n(),f(null)}),[c]),Object(a.useEffect)((function(){h(null)}),[s]),Object(a.useEffect)((function(){h(null),f(null)}),[w]),null==t)return r.a.createElement($e.a,{centered:!0,size:"sm"});var I=function(e){switch(e){case ra:h(ra);break;case ca:h(ca);break;case la:h(la);break;case oa:h(oa);break;default:h(null)}};return r.a.createElement(p.c,null,r.a.createElement(nr,null,r.a.createElement(mt,{collateralPair:t}),r.a.createElement(p.I,null),r.a.createElement(ea,{onSelectLoan:function(e){return f(e)},selectedLoan:s,onSelectLiquidation:function(e){return O(e)},selectedLiquidation:b,setVisiblePanel:h,setView:x})),r.a.createElement(ar,null,"sETH"===c?r.a.createElement(le,{notify:k,collateralPair:t}):r.a.createElement(De,{notify:k,collateralPair:t}),r.a.createElement(p.I,null),"sETH"===c?r.a.createElement(Ge,{notify:k,collateralPair:t,isInteractive:null!=s,selectedLoan:s}):w===tr.LOANS?function(){switch(E){case null:return r.a.createElement(sa,{onActionPress:I,isInteractive:null!=s});case ra:return r.a.createElement(Ca,{notify:k,onLoanModified:S,type:ra,selectedLoan:s});case ca:return r.a.createElement(Ca,{notify:k,onLoanModified:S,type:ca,selectedLoan:s});case la:return r.a.createElement(Ya,{notify:k,onLoanModified:S,selectedLoan:s});case oa:return r.a.createElement(Ge,{notify:k,collateralPair:t,isInteractive:null!=s,selectedLoan:s});default:return r.a.createElement(sa,{onActionPress:I,isInteractive:null!=s})}}():r.a.createElement(qa,{notify:k,isInteractive:null!=b,selectedLiquidation:b})))}));t.default=function(){return r.a.createElement(f,null,r.a.createElement(cr,null))}}}]);
//# sourceMappingURL=12.d8aa6e1d.chunk.js.map